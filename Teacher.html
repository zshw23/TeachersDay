<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•™å¸ˆèŠ‚å¿«ä¹</title>
  <script src="./font/iconfont.js"></script>
  <script src="./echarts.min.js"></script>

  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      background-image: url(./bg.png);
      background-repeat: no-repeat;
      background-size: 100% 100%;
      overflow: hidden;
    }
    #main {
      position: relative;
      width: 100%;
      height: 100%;
      z-index: 2;
      transform: rotate3d(0deg);
    }
    #word {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
      bottom: 8%;
      width: 100%;
      height: 150px;
      font-size: 5em;
      transform: skewX(-15deg);
    }
    .word {
      letter-spacing: 5px;
      animation: changeColor 4s linear 0s infinite alternate;
    }
    @keyframes changeColor {
      0% {
        color: #f1ad32;
      }
      25% {
        color: #fa71b5;
      }
      50% {
        color: #fcaa02;
      }
      75% {
        color: #adbdf7;
      }
      100% {
        color: #c2cd07;
      }
    }
  </style>
</head>
<body>
  <div id="main"></div>
  <div id="word">
    <span class="word">ğŸ‘©â€ğŸ«æ•™å¸ˆèŠ‚å¿«ä¹ğŸ‘¨â€ğŸ«</span>
  </div>

  <script>
    const cos = Math.cos
    const sin = Math.sin
    const PI = Math.PI
    const random = Math.random
    const floor = Math.floor

    const scatterName = 'æ•™å¸ˆèŠ‚å¿«ä¹'
    const effectName = 'ğŸ’ğŸŒ¹æ•™å¸ˆèŠ‚å¿«ä¹ğŸŒ¹ğŸ’'

    // ä¹¦ç±çš„ svg
    const book = 'image://./book.svg'
    // å°çˆ±å¿ƒçš„ svg path
    const heart = 'path://m314.347483,160.37842c8.062623,-21.656503 39.652243,0 0,27.844075c-39.652243,-27.844075 -8.062623,-49.500578 0,-27.844075z'
    // å¸ˆè¯´
    const words = ["å¤ä¹‹å­¦è€…å¿…æœ‰å¸ˆ", "å¸ˆè€…", "æ‰€ä»¥ä¼ é“å—ä¸šè§£æƒ‘ä¹Ÿ", "äººéç”Ÿè€ŒçŸ¥ä¹‹è€…", "å­°èƒ½æ— æƒ‘ï¼Ÿ", "æƒ‘è€Œä¸ä»å¸ˆ", "å…¶ä¸ºæƒ‘ä¹Ÿ", "ç»ˆä¸è§£çŸ£", "ç”Ÿä¹å¾å‰", "å…¶é—»é“ä¹Ÿå›ºå…ˆä¹å¾", "å¾ä»è€Œå¸ˆä¹‹", "ç”Ÿä¹å¾å", "å…¶é—»é“ä¹Ÿäº¦å…ˆä¹å¾", "å¾ä»è€Œå¸ˆä¹‹", "å¾å¸ˆé“ä¹Ÿ", "å¤«åº¸çŸ¥å…¶å¹´ä¹‹å…ˆåç”Ÿäºå¾ä¹ï¼Ÿ", "æ˜¯æ•… æ— è´µæ— è´±", "æ— é•¿æ— å°‘", "é“ä¹‹æ‰€å­˜", "å¸ˆä¹‹æ‰€å­˜ä¹Ÿ", "è€å¸ˆæ˜¯è¾›å‹¤çš„å›­ä¸", "ç¥è€å¸ˆä»¬èŠ‚æ—¥å¿«ä¹ï½", "æ·³æ·³å¦‚çˆ¶è¯­", "æ®·æ®·ä¼¼å‹äº²", "è½»ç›ˆæ•°è¡Œå­—", "æµ“æŠ¹ä¸€ç”Ÿäºº", "å¯„æœ›åæ¥è€…", "æˆåŠŸæŠ¥å¸ˆå°Š"]
    // é¢œè‰²èŒƒå›´
    const colors = ['#6ce6c6', '#f4a3a3', '#e0e0f4', '#04ccc3', '#adbdf7', '#f1ad30', '#c2cd07', '#fc6472']

    window.onload = () => {
      initChart()
    }

    function initChart() {
      const chart = echarts.init(document.getElementById('main'))
      const bookData = []
      const heartData = []

      // ä¹¦ç±å›´æˆçš„å¿ƒå½¢
      for (let index = 0; index < 360; index+=5) {
        const angle = index * PI / 180
        const x = 16 * (sin(angle) ** 3)
        const y = 13 * cos(angle) - 5 * cos(2 * angle) - 2 * cos(3 * angle) - cos(4 * angle)

        const realX = x * 2.1 + 50 // æ¨ªè½´å˜å®½ 2.1 å€ï¼Œå¹³ç§» 50
        const realY = y * 2.3 + 63 // çºµè½´å˜é«˜ 2.3 å€ï¼Œè¯„è®® 63
        bookData.push({ name: words[(index / 5 - 4) % words.length], value: [realX, realY]  })
      }

      // ä¸­é—´çš„ 9 1 0
      // å…ˆæŠŠå®Œæ•´çš„çºµè½´çº¿èŠ±ç”»äº†
      const dataX = [41, 50, 61, 69]
      for (let index = 50; index <= 71; index += 3) {
        for (let j = 0; j < dataX.length; j++) {
          heartData.push({ name: effectName, value: [dataX[j], index] })
        }
      }
      // è¡¥é½ 9
      for (let index = 33; index <= 39; index += 2) {
        heartData.push({ name: effectName, value: [index, 71] })
        heartData.push({ name: effectName, value: [index, 62] })
        heartData.push({ name: effectName, value: [index, 50] })
      }
      for (let index = 65; index <= 68; index += 3) {
        heartData.push({ name: effectName, value: [33, index] })
      }
      // è¡¥é½ 0
      for (let index = 63; index <= 67; index += 2) {
        heartData.push({ name: effectName, value: [index, 71] })
        heartData.push({ name: effectName, value: [index, 50] })
      }

      // echarts çš„é…ç½®
      const option = {
        xAxis: {
          show: false,
          min: 0,
          max: 100 // 0 åˆ° 100 å¥½ç®—åæ ‡
        },
        yAxis: {
          show: false,
          min: 0,
          max: 100 // 0 åˆ° 100 å¥½ç®—åæ ‡
        },
        series: [{
          type: 'scatter',
          name: scatterName,
          coordinateSystem: 'cartesian2d',
          symbol: book,
          symbolSize: 50,
          label: {
            emphasis: {
              show: true,
              formatter: '{b}',
              position: 'top',
              fontSize: 30,
              fontWeight: 'bold'
            }
          },
          tooltip: {
            show: false
          },
          zlevel: 1,
          data: bookData
        }, {
          type: 'effectScatter',
          name: effectName,
          coordinateSystem: 'cartesian2d',
          rippleEffect: {
            period: 8,
            blushType: 'stroke',
            scale: 2
          },
          symbol: heart,
          symbolSize: 14,
          label: {
            emphasis: {
              show: true,
              formatter: '{b}',
              position: 'top',
              fontSize: 30,
              fontWeight: 'bold'
            }
          },
          itemStyle: {
            normal: {
              color: '#f7c04e'
            }
          },
          tooltip: {
            show: false
          },
          zlevel: 2,
          data: heartData
        }]
      }

      chart.setOption(option)
      window.onresize = chart.resize
    }
  </script>
</body>
</html>